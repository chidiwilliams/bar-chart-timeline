<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta http-equiv="X-UA-Compatible" content="ie=edge" />
    <title>Document</title>
  </head>
  <body>
    <canvas id="canvas" width="1000"></canvas>

    <script>
      const BAR_WIDTH = 1000;
      const BAR_MARGIN = 10;
      const BAR_HEIGHT = 40;

      function drawGraph({ elements }) {
        var canvas = document.getElementById('canvas');
        var ctx = canvas.getContext('2d');

        canvas.height = calculateTotalCanvasHeight(elements.length);
        drawCanvas(elements, ctx);
      }

      function drawCanvas(elements, ctx) {
        maxValue = getMaxElementValue(elements);

        elements.forEach((element, id) => {
          ctx.beginPath();
          const yMargin = (BAR_HEIGHT + BAR_MARGIN) * id;
          const barWidth = getBarWidth(element, maxValue, BAR_WIDTH);
          console.log(element, maxValue, BAR_WIDTH);
          ctx.rect(0, yMargin, barWidth, BAR_HEIGHT);
          ctx.fill();
        });
      }

      function getBarWidth(value, maxValue, maxBarWidth) {
        return (value / maxValue) * maxBarWidth;
      }

      function getMaxElementValue(elements) {
        return Math.max(...elements);
      }

      function calculateTotalCanvasHeight(numElements) {
        return numElements * BAR_HEIGHT + (numElements - 1) * BAR_MARGIN;
      }

      drawGraph({ elements: [40, 82, 12, 28, 19] });
    </script>
  </body>
</html>
